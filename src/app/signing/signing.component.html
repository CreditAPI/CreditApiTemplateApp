<div class="text-center mt-50px"><h2 i18n="@@signing.title">Document signing</h2></div>
<div class="container mb-4 " >
    <div class="row justify-content-center">
        <div class="col-md-9 align-self-center">
            <div class="card">
                <div class="card-body">
                    <div *ngIf="loading">
                        <h2 i18n="@@signing.wait">Please, wait</h2>
                        <div class="spinner-border" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                    <div *ngIf="!loading">
                         {{content}}
                    </div>
                </div>
                <div class="card-footer" *ngIf="show_buttons">
                    <div>
                        <input type="checkbox" id="agree_flag" #agree>
                        <label i18n="@@signing.i_agree">I agree with this document</label>
                    </div>
                    <div class="text-center">
                        <button class="btn btn-outline-primary mr-5" [routerLink]="['/dashboard']" i18n="@@signing.buttons.cancel">Cancel</button>
                        <button class="btn btn-primary ml-5" (click)="sign(agree,modal_sms)" i18n="@@signing.buttons.sign">Sign</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #modal_sms let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 class="modal-title" i18n="@@signing.modal_sms.title">Please, enter SMS-code</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <p><span i18n="@@signing.modal_sms.message">To sign this agreement please enter an SMS code sent to</span> <strong> {{creditApi.User.phone}}</strong></p>
        <div class="form-label-group" >
            <input type="text" 
                    class="form-control" 
                    placeholder="Code" 
                    i18n-placeholder="@@signing.modal_sms.code"
                    #sms_code>  
            <label for="sms_code" i18n="@@signing.modal_sms.code">Code</label>
        </div>
    </div>
    <div class="modal-footer">
      <button type="button" ngbAutofocus class="btn btn-outline-secondary" (click)="d('Cancel')" i18n="@@cancel">Cancel</button>
      <button type="button"  class="btn btn-primary" (click)="signWithSMS(sms_code.value);"  i18n="@@next">Next</button>
    </div>
</ng-template>